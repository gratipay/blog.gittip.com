<!DOCTYPE html>
<script>var __pbpa = true;</script><script>var translated_warning_string = 'Warning: Never enter your Tumblr password unless \u201chttps://www.tumblr.com/login\u201d\x0ais the address in your web browser.\x0a\x0aYou should also see a green \u201cTumblr, Inc.\u201d identification in the address bar.\x0a\x0aSpammers and other bad guys use fake forms to steal passwords.\x0a\x0aTumblr will never ask you to log in from a user\u2019s blog.\x0a\x0aAre you absolutely sure you want to continue?';</script><script type="text/javascript" language="javascript" src="http://assets.tumblr.com/assets/scripts/pre_tumblelog.js?_v=779fe45acc2d029187a87fba65d0af9e"></script>
<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">

    <title>Errors in Team Distributions Last Week - Blog - Gittip</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel='icon' href='https://www.gittip.com/favicon.ico' />
    <link rel='shortcut icon' href='https://www.gittip.com/favicon.ico' />
    <link rel='alternate' type='application/rss+xml' href='http://blog.gittip.com/rss' />
    
    <link rel="stylesheet" href="https://www.gittip.com/assets/reset.css"
            type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="https://assets-gittipllc.netdna-ssl.com/-/gittip.css"
            type="text/css" charset="utf-8" />
    <style>
        #hero a {
            color: inherit;
            text-decoration: none;
        }
        .back-the-stack-photo {
            width: 250px;
            height: 250px;
            text-align: right;
            float: right;
            margin: 0;
            padding: 0;
        }
        .meta {
            text-transform: uppercase;
            font-size: smaller;
            margin: 0 0 15px;
        }
        .notes {
            margin: 0;
            padding: 0;
        }
        .notes li {
            margin: 0 0 5px;
            padding: 0;
        }
        h1 a, h2 a, h3 a, h4 a {
            font-weight: normal;
        }
        
        #page h1 {
            margin: 70px 0 8px;    
        }
        #page h4 {
            /* This should match .page h2 on the main site */
            font-weight: bold;
            font-size: 14px;
            line-height: 14px;
            margin: 35px 0 8px;
            text-transform: uppercase;                                                  
            color: #614C3E;
        }
        blockquote {
            padding-left: 1em;
        }
        
        /* Override a couple things from YUI reset */
        /* These should be upstreamed to the main css. */
        #page em { font-style: italic; }
        #page strong { font-weight: bold; }        
    </style>

<link rel="alternate" href="android-app://com.tumblr/tumblr/x-callback-url/blog?blogName=gittip-blog&postID=85747015891" />
<script src="http://assets.tumblr.com/assets/scripts/tumblelog.js?_v=8082b4b919d77a05b6accc3336dce2f1"></script>
<link rel="stylesheet" type="text/css" href="http://assets.tumblr.com/fonts/gibson/stylesheet.css?v=3">
<meta http-equiv="x-dns-prefetch-control" content="off"/>

<!-- BEGIN TUMBLR FACEBOOK OPENGRAPH TAGS --><!-- If you'd like to specify your own Open Graph tags, define the og:url and og:title tags in your theme's HTML. --><!-- Read more: http://ogp.me/ --><meta property="fb:app_id" content="48119224995" /><meta property="og:site_name" content="" /><meta property="og:title" content="Errors in Team Distributions Last Week" /><meta property="og:url" content="http://blog.gittip.com/post/85747015891/errors-in-team-distributions-last-week" /><meta property="og:description" content="Gittip&rsquo;s Teams feature enables the distribution of funds each week among members of a team. During last week&rsquo;s payday, two bugs in the algorithm for distributing team funds led to overpayments to 55..." /><meta property="og:determiner" content="a" /><meta property="og:type" content="tumblr-feed:entry" /><meta property="og:image" content="http://assets.tumblr.com/images/og/text_200.png" /><meta property="al:ios:url" content="tumblr://x-callback-url/blog?blogName=gittip-blog&amp;postID=85747015891" /><meta property="al:ios:app_name" content="Tumblr" /><meta property="al:ios:app_store_id" content="305343404" /><meta property="al:android:url" content="tumblr://x-callback-url/blog?blogName=gittip-blog&amp;postID=85747015891" /><meta property="al:android:app_name" content="Tumblr" /><meta property="al:android:package" content="com.tumblr" /><!-- END TUMBLR FACEBOOK OPENGRAPH TAGS -->


<!-- TWITTER TAGS --><meta charset="utf-8"><meta name="twitter:card" content="summary" /><meta name="twitter:description" content="Gittip&amp;#8217;s Teams feature enables the distribution of funds each week among members of a team. During last week&amp;#8217;s payday, two bugs in the algorithm for distributing team funds led to overpayments&nbsp;to 55 members across 21 teams, totaling &#36;141.34. Most of this was for the Gittip and Aspen teams: &#36;124.56 (88%) to 13 members (62%). Additionally, funds (less than &#36;2) were not distributed at all to eight members across three teams.
 The payday algorithm runs in three loops: payin, pachinko, and payout. Pachinko is where the team distribution happens. Payday crashed twice during the pachinko loop due to bugs in the pachinko algorithm. After the second crash, we decided to skip the pachinko loop entirely and proceed directly to the payout loop. We took this decision on the understanding that the dollar amounts involved with teams is relatively small, so the risk of needing to do a major correction was low, and we were under time pressure to submit payouts for the day to our processor, Balanced Payments.
 Since most of the money involved in the error was for the Gittip and Aspen teams and the effect on other teams was so small, we decided to let the overpayments stand. This amounts to an extra payment from the teams in question to their members.
 For further details please see this GitHub issue.
 Sorry for the error. If you have any questions or concerns, please get in touch on Twitter or IRC or email." /><meta name="twitter:title" content="Errors in Team Distributions Last Week" /><meta name="twitter:url" content="http://blog.gittip.com/post/85747015891/errors-in-team-distributions-last-week" /><meta name="twitter:site" content="tumblr" /><meta name="twitter:app:name:iphone" content="Tumblr" /><meta name="twitter:app:name:ipad" content="Tumblr" /><meta name="twitter:app:name:googleplay" content="Tumblr" /><meta name="twitter:app:id:iphone" content="305343404" /><meta name="twitter:app:id:ipad" content="305343404" /><meta name="twitter:app:id:googleplay" content="com.tumblr" /><meta name="twitter:app:url:iphone" content="tumblr://x-callback-url/blog?blogName=gittip-blog&amp;postID=85747015891&amp;referrer=twitter-cards" /><meta name="twitter:app:url:ipad" content="tumblr://x-callback-url/blog?blogName=gittip-blog&amp;postID=85747015891&amp;referrer=twitter-cards" /><meta name="twitter:app:url:googleplay" content="tumblr://x-callback-url/blog?blogName=gittip-blog&amp;postID=85747015891&amp;referrer=twitter-cards" />

</head>
<body>
    <div class="container"><div id="header">
        <table><tr><td class="logo">
            <h1>
                <a href="https://www.gittip.com/">
                    <img src="https://www.gittip.com/assets/-/logo.png" alt="Gittip" />
                </a>
            </h1>
            </td><td class="motto luxury">
            Inspiring Generosity
        </td></tr></table>
    </div></div>

    <div id="hero">
        <div class="main-padding">
            <h2 class="top"><span><a href="/">Blog</a></span></h2>
        </div>
    </div>

    <div class="container"><div id="box-page">
    
        <div class="box">
            <div class="as-content">
                
                <a href="https://www.gittip.com/">Gittip</a> is a way to 
                give money every week to people and teams you believe in.
                We launched in June, 2012 and as of August, 2014 we have
                2,900 active users exchanging $13,000 per week.
                Gittip is funded on Gittip.
                
            </div>
            <div class="nav level-1">
                
                <a href="https://www.gittip.com/about/"><button>About</button></a>
                <a href='http://blog.gittip.com/rss'><button>RSS</button></a>

                
            </div>
        </div>
        
        <div id="page" class="group">
            <div class="col0">
                
                    
                        <h1><a href="http://blog.gittip.com/post/85747015891/errors-in-team-distributions-last-week">Errors in Team Distributions Last Week</a></h1>
                    
                    
                    <div class="meta">May 14, 2014, 4:04 pm 
                    (3 months ago) &ndash; <a href='http://blog.gittip.com/post/85747015891/errors-in-team-distributions-last-week'>Permalink</a></div>
                    
                    
                    <p>Gittip&#8217;s <a href="https://www.gittip.com/about/teams/">Teams</a> feature enables the distribution of funds each week among members of a team. During last week&#8217;s payday, two bugs in the algorithm for distributing team funds led to overpaymentsÂ to 55 members across 21 teams, totaling $141.34. Most of this was for the Gittip and Aspen teams: $124.56 (88%) to 13 members (62%). Additionally, funds (less than $2) were not distributed at all to eight members across three teams.</p>
<p>The payday algorithm runs in three loops: payin, pachinko, and payout. Pachinko is where the team distribution happens. Payday crashed twice during the pachinko loop due to bugs in the pachinko algorithm. After the second crash, we decided to skip the pachinko loop entirely and proceed directly to the payout loop. We took this decision on the understanding that the dollar amounts involved with teams is relatively small, so the risk of needing to do a major correction was low, and we were under time pressure to submit payouts for the day to our processor, Balanced Payments.</p>
<p>Since most of the money involved in the error was for the Gittip and Aspen teams and the effect on other teams was so small, we decided to let the overpayments stand. This amounts to an extra payment from the teams in question to their members.</p>
<p>For further details please see <a href="https://github.com/gittip/www.gittip.com/issues/2362">this GitHub issue</a>.</p>
<p>Sorry for the error. If you have any questions or concerns, please get in touch on <a href="https://twitter.com/Gittip">Twitter</a> or <a href="irc://irc.freenode.net/#gittip">IRC</a> or <a href="mailto:support@gittip.com">email</a>.</p>
                    
                    
                
            </div>
        </div>
        
    </div></div>

    <div class="container"><div id="footer">
        <b><a href='http://blog.gittip.com/'>Blog</a></b> |
        <a href="https://www.gittip.com/about/">About</a> |
        <a href='https://www.gittip.com/about/faq.html'>FAQ</a> |
        <a href='https://www.gittip.com/about/stats.html'>Stats</a> |
        <a href='https://www.gittip.com/about/charts.html'>Charts</a> |
        <a href="https://www.gittip.com/about/terms/">Terms</a> |
        <a href="https://www.gittip.com/about/privacy/">Privacy</a> |
        <a href='https://www.gittip.com/about/fraud/'>Fraud</a> |
        <a href='https://www.gittip.com/security.txt'>Security</a>
    </div></div>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-247427-33']);
      _gaq.push(['_setDomainName', '.gittip.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '5162deb4f5a1f5590500012d');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>

</div><!-- BEGIN TUMBLR CODE --><iframe scrolling="no" width="1" height="1" frameborder="0" style="background-color:transparent; overflow:hidden; position:absolute; top:0; left:0; z-index:9999;" id="ga_target"></iframe><script type="text/javascript">
    (function(){
        var analytics_frame = document.getElementById('ga_target');
        var analytics_iframe_loaded;
        var user_logged_in;
        var blog_is_nsfw = 'No';

        var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
        var eventer = window[eventMethod];
        var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
        eventer(messageEvent,function(e) {
            var message = (e.data && e.data.split) ? e.data.split(';') : '';
            switch (message[0]) {
                case 'analytics_iframe_loaded':
                    analytics_iframe_loaded = true;
                    postCSMessage();
                    postGAMessage();
                    break;
                case 'user_logged_in':
                    user_logged_in = message[1];
                    postGAMessage();
                    break;
            }
        }, false);

        analytics_frame.src = "https://secure.assets.tumblr.com/analytics.html?9e9ba62dc49cabbeef27e3face374f99#http://blog.gittip.com";
        function postGAMessage() {
            if (analytics_iframe_loaded && user_logged_in) {
                var is_ajax = false;
                analytics_frame.contentWindow.postMessage(['tick_google_analytics', is_ajax, user_logged_in, blog_is_nsfw, '/post/85747015891/errors-in-team-distributions-last-week?route=%2Fpost%2F%3Aid%2F%3Asummary'].join(';'), analytics_frame.src.split('/analytics.html')[0]);
            }
        }
        function postCSMessage() {
            COMSCORE = true;
            analytics_frame.contentWindow.postMessage('enable_comscore;' + window.location, analytics_frame.src.split('/analytics.html')[0]);
        }
    })();
</script><script>
            var _qevents = _qevents || [];
            (function() {
                var s = document.createElement('script');
                var el = document.getElementsByTagName('script')[0];
                s.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
                el.parentNode.insertBefore(s, el);
            })();
        </script><script type="text/javascript">
            _qevents.push( { qacct: 'p-19UtqE8ngoZbM' } );
        </script><noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/'p-19UtqE8ngoZbM'.gif" height="1" width="1" alt="Quantcast"/></div></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1409331707&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wvYmxvZy5naXR0aXAuY29tXC9wb3N0XC84NTc0NzAxNTg5MVwvZXJyb3JzLWluLXRlYW0tZGlzdHJpYnV0aW9ucy1sYXN0LXdlZWsiLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvcG9zdFwvOmlkXC86c3VtbWFyeSJ9&U=MLLBAJDEIB&K=725be09a2165a086a3d740bb8f5dcd8517b61864809b881a7750b38c839e8306&R=http%3A%2F%2Fblog.gittip.com%2F'.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1409331707&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wvYmxvZy5naXR0aXAuY29tXC9wb3N0XC84NTc0NzAxNTg5MVwvZXJyb3JzLWluLXRlYW0tZGlzdHJpYnV0aW9ucy1sYXN0LXdlZWsiLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvcG9zdFwvOmlkXC86c3VtbWFyeSIsIm5vc2NyaXB0IjoxfQ==&U=MLLBAJDEIB&K=1b9dba642a78c1fafad290c44bb853428ebcfa8623b5f494186b61776e87ab4a&R=http%3A%2F%2Fblog.gittip.com%2F"></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1409331707&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2Jsb2cuZ2l0dGlwLmNvbVwvcG9zdFwvODU3NDcwMTU4OTFcL2Vycm9ycy1pbi10ZWFtLWRpc3RyaWJ1dGlvbnMtbGFzdC13ZWVrIiwicmVxdHlwZSI6MCwicm91dGUiOiJcL3Bvc3RcLzppZFwvOnN1bW1hcnkiLCJwb3N0cyI6W3sicG9zdGlkIjoiODU3NDcwMTU4OTEiLCJibG9naWQiOiI1OTYzMTg2OSIsInNvdXJjZSI6MzN9XX0=&U=DMGEPPAEME&K=c9eae939f3e799bccf07497b67a0303ea4ef6265e5d16f02ab726dbb84ad5866&R=http%3A%2F%2Fblog.gittip.com%2F'.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1409331707&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2Jsb2cuZ2l0dGlwLmNvbVwvcG9zdFwvODU3NDcwMTU4OTFcL2Vycm9ycy1pbi10ZWFtLWRpc3RyaWJ1dGlvbnMtbGFzdC13ZWVrIiwicmVxdHlwZSI6MCwicm91dGUiOiJcL3Bvc3RcLzppZFwvOnN1bW1hcnkiLCJwb3N0cyI6W3sicG9zdGlkIjoiODU3NDcwMTU4OTEiLCJibG9naWQiOiI1OTYzMTg2OSIsInNvdXJjZSI6MzN9XSwibm9zY3JpcHQiOjF9&U=DMGEPPAEME&K=4bd23a05faeb1b73bae62368a04dd5a0016c1b319e0c472d5293005266415640&R=http%3A%2F%2Fblog.gittip.com%2F"></noscript><script>
                (function() {
                    var s = document.createElement('script');
                    var el = document.getElementsByTagName('script')[0];
                                            s.src = ('https:' == document.location.protocol ? 'https://s' : 'http://l') + '.yimg.com/ss/rapid-3.18.1.js';
                                        s.onload = function(){
                        var YAHOO = window.YAHOO;
                        if (YAHOO) {
                            var keys = {
                                pd:'/post/:id/:summary',
                                _li:0,
                                b_id:59631869,
                                i_rad:0,
                                i_strm:0
                            };
                            var conf = {
                                                                spaceid:1197716038,
                                client_only:1,
                                yql_enabled:false,
                                keys:keys,
                                nol:1
                            };
                            YAHOO.rapid = new YAHOO.i13n.Rapid(conf);
                        }
                    };
                    el.parentNode.insertBefore(s, el);
                })();
            </script><iframe id="tumblr_controls" class="tumblr_controls" width="1" height="1" frameborder="0" scrolling="no" src="https://secure.assets.tumblr.com/assets/html/iframe/o.html?_v=3fe16cd6da2d3574b12c24a573ef1e33#src=http%3A%2F%2Fblog.gittip.com%2Fpost%2F85747015891%2Ferrors-in-team-distributions-last-week&amp;pid=85747015891&amp;rk=KwPaooNj&amp;lang=en_US&amp;name=gittip-blog&amp;brag=false&amp;avatar=http%3A%2F%2F33.media.tumblr.com%2Favatar_6fc1e89e5818_64.png&amp;title=Gittip+Blog&amp;url=http%3A%2F%2Fblog.gittip.com%2F&amp;page_slide=slide"></iframe><div id="teaser_iframe_container" style="display:none;"><iframe scrolling="no" frameborder="0" src="https://www.tumblr.com/assets/html/iframe/teaser.html?_v=a90e550df50ef2b6b9123982e7b4fa91#src=http%3A%2F%2Fblog.gittip.com%2Fpost%2F85747015891%2Ferrors-in-team-distributions-last-week&amp;pid=85747015891&amp;rk=KwPaooNj&amp;lang=en_US&amp;name=gittip-blog&amp;brag=false&amp;avatar=http%3A%2F%2F33.media.tumblr.com%2Favatar_6fc1e89e5818_64.png&amp;title=Gittip+Blog&amp;url=http%3A%2F%2Fblog.gittip.com%2F&amp;page_slide=slide" id="teaser_iframe" width="1" height="1"></iframe></div><script type="text/javascript">
    (function(Tumblr){
        var follow_iframe_initialized = false;
        if (Tumblr.FollowTeaser && Tumblr.PostMessageListener) {
            // Don't do anything until the first initialize event
            Tumblr.PostMessageListener.initialize(function(message, origin) {
                if (follow_iframe_initialized || message.length < 2) return;

                if (message[0] === 'follow_iframe' && message[1] === 'enable') {
                    Tumblr.FollowTeaser.current_page = 1;
                    Tumblr.FollowTeaser.infer_infinite_scroll = true;
                    Tumblr.FollowTeaser.create_from_tumblr_controls("http:\/\/assets.tumblr.com\/assets\/html\/iframe\/follow.html?_v=fa4d54010bc84a02b4dcb585b5737b2c");
                    Tumblr.FollowTeaser.scroll_listener(true);
                    follow_iframe_initialized = true;
                }
            });
        }
    })(this.Tumblr || (this.Tumblr = {}));
</script><!--[if IE]><script type="text/javascript">document.getElementById('tumblr_controls').allowTransparency=true;</script><![endif]--><!-- END TUMBLR CODE -->

</body>
</html>